# E-commerce app

## RESTful endpoints

### POST /products

> Post new products

_Request Header_
```
{
    "access_token": "<your access token>"
}
```

_Request Body_
```
{
    "name": "<name to get insert into>",
    "stock": "<stock to get insert into>",
    "price": "<price to get insert into>",
    "image_url": "<url image>"
}
```

_Response (201)_
```
{
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image>"
}
```

_Response (400)_
```
{
    "message": "validation error"
}
```

_Response (500)_
```
{
    "message": "Internal Server Error"
}
```

### GET /products

> Get all products

_Request Header_
```
{
    "access_token": "<your access token>"
}
```

_Request Body_
```
not needed
```

_Response (200)_
```
[
    {
        "id": "<id product>"
        "name": "<name product>",
        "stock": "<stock product>",
        "price": "<price product>",
        "image_url": "<url image product>"
    }
]
```

_Response (500)_
```
{
    "message": "Internal Server Error"
}
```

### GET /products/:id

> Get product by id

_Request Header_
```
{
    "access_token": "<your access token>"
}
```

_Request Params_
```
{
    "id": <product id>
}
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (404)_
```
{
    "message": "error not found"
}
```

### PUT /products/:id

> Update product by id

_Request Header_
```
{
    "access_token": "<your access token>"
}
```

_Request Query_
```
{
    "category": "<name of category inputed by user>" 
}
```

_Request Body_
```
{
    "name": "<name updated>",
    "stock": "<stock updated>",
    "price": "<price updated>",
    "image_url": "<url image updated>"
}
```

_Response (200)_
```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (404)_
```
{
    "message": "error not found"
}
```

_Response (500)_
```
{
    "message": "Internal server error"
}
```

### PATCH /products/:id

> Update stock products by id

_Request Header_
```
{
    "access_token": "<your access token>",
}
```

_Request Query_
```
{
    "category": "<name of category inputed by user>" 
}
```

_Request Body_
```
{
    "stock": "<stock product>"
}
```

_Response (200)_
```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (400)_
```
{
    "message": "error validation"
}
```

_Response (404)_
```
{
    "message": "error not found"
}
```

_Response (500)_
```
{
    "message": "Internal server error"
}
```

### DELETE /products/:id

> Delete task by id

_Request Header_
```
{
    "access_token": "<your access token>"
}
```

_Request Params_
```
{
    "id": <task id>
}
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    "message": "product success to delete"
}
```

_Response (404)_
```
{
    "message": "error not found"
}
```

_Response (500)_
```
{
    "message": "Internal server error"
}
```


### POST users/register

> Post new User

_Request Header_
```
{
    "access_token": "<your access token>"
}
```

_Request Body_
```
{
    "email": "<email to post to User>",
    "password": "<password to post to User>"
    "role": "<role to post to User>"
}
```

_Response (201)_
```
{
    "id": <given by the system>,
    "email": "<User email>"
    "role": "<User role>"
}
```

_Response (400)_
```
{
    errors
}
```

### POST /users/login

> Post User login

_Request Body_
```
{
    "email": "<User email>",
    "password": "<User password>"
}
```

_Response (200)_
```
{
    "accessToken": "<generated by system>"
}
```

_Response (400)_
```
{
    error
}
```